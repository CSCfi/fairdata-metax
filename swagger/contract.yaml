swagger: '2.0'
info:
  title: METAX contract API
  version: v1
host: contract.metax.example.org
schemes:
  - https
basePath: /rest/v1/
produces:
  - application/json
paths:
  /contract/:
    post:
      summary: create new contract metadata (request body JSON object with contract metadata, without PID)
      consumes:
        - application/json
      responses:
        '201':
          description: new contract metadata created, return Location with the new URL containing PID
  /contract/{PID}:
    get:
      summary: get contract metadata
      parameters:
        - name: PID
          in: path
          description: Persistent ID of contract
          required: true
          type: string
      responses:
        '200':
          description: return contract metadata (name, organization, quota)
    put:
      summary: replace contract metadata
      parameters:
        - name: PID
          in: path
          description: Persistent ID of contract
          required: true
          type: string
      responses:
        '204':
          description: successful operation, no content returned
    patch:
      summary: replace part of contract metadata
      parameters:
        - name: PID
          in: path
          description: Persistent ID of contract
          required: true
          type: string
      responses:
        '200':
          description: successful operation, full content returned

  /contract:
    get:
      summary: "search contracts"
      parameters:
        - name: organization
          in: query
          description: organization ID
          required: false
          type: string
      responses:
        "200":
          description: successful operation, return list of contracts optionally filtered by organization


